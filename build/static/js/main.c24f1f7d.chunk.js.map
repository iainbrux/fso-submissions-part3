{"version":3,"sources":["components/Heading.jsx","components/Input.jsx","components/Button.jsx","components/Form.jsx","components/ContactDetails.jsx","services/notes.js","components/SuccessNotification.jsx","components/ErrorNotification.jsx","components/Notification.jsx","App.js","index.js"],"names":["Heading","text","Input","handleData","newData","onChange","value","Button","handleSubmit","type","onClick","Form","handleName","handleNumber","newName","newNumber","ContactDetails","contact","deleteFromPhonebook","setFilterBy","useState","deleted","setDeleted","name","number","BASE_URL","getContacts","a","axios","get","request","data","response","addContact","post","updateContact","person","put","id","deleteContact","delete","SuccessNotification","successMessage","style","border","borderRadius","background","color","marginBottom","marginLeft","ErrorNotification","errorMessage","Notification","App","setNewName","setNewNumber","filterBy","filtered","setFiltered","persons","setPersons","setSuccessMessage","setErrorMessage","useEffect","contactServices","then","removeSuccessMessage","setTimeout","removeErrorMessage","clearForms","displayError","err","error","addToPhonebook","find","details","window","confirm","map","item","catch","alert","concat","res","e","target","filteredNames","filter","toLowerCase","indexOf","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"sLAMeA,EAJC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACjB,OAAO,6BAAKA,KCQCC,EATD,SAAC,GAAmC,IAAjCD,EAAgC,EAAhCA,KAAME,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QACjC,OACE,gCACGH,EACD,uBAAOI,SAAUF,EAAYG,MAAOF,QCM3BG,EAVA,SAAC,GAA4B,IAA1BN,EAAyB,EAAzBA,KAAMO,EAAmB,EAAnBA,aACtB,OACE,8BACE,wBAAQC,KAAK,SAASC,QAASF,EAA/B,SACGP,OCcMU,EAhBF,SAAC,GAMP,IALLC,EAKI,EALJA,WACAC,EAII,EAJJA,aACAL,EAGI,EAHJA,aACAM,EAEI,EAFJA,QACAC,EACI,EADJA,UAEA,OACE,iCACE,cAAC,EAAD,CAAOd,KAAK,SAASE,WAAYS,EAAYR,QAASU,IACtD,cAAC,EAAD,CAAOb,KAAK,WAAWE,WAAYU,EAAcT,QAASW,IAC1D,cAAC,EAAD,CAAQd,KAAK,MAAMO,aAAcA,QCQxBQ,EArBQ,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,QAASC,EAAuC,EAAvCA,oBAAqBC,EAAkB,EAAlBA,YAAkB,EAC1CC,oBAAS,GADiC,mBACjEC,EADiE,KACxDC,EADwD,KASxE,OAAID,EACK,KAIP,+BACGJ,EAAQM,KADX,IACkBN,EAAQO,OACxB,wBAAQd,QAbU,WACpBQ,EAAoBD,GACpBK,GAAW,GACXH,EAAY,KAUV,wB,gBChBAM,EAAQ,eA0BC,GACbC,YAzBe,uCAAG,8BAAAC,EAAA,sEACIC,IAAMC,IAAIJ,GADd,cACZK,EADY,gBAEKA,EAAQC,KAFb,cAEZC,EAFY,yBAGXA,GAHW,2CAAH,qDA0BfC,WApBc,uCAAG,WAAOhB,GAAP,iBAAAU,EAAA,sEACKC,IAAMM,KAAKT,EAAUR,GAD1B,cACXa,EADW,gBAEMA,EAAQC,KAFd,cAEXC,EAFW,yBAGVA,GAHU,2CAAH,sDAqBdG,cAfiB,uCAAG,WAAOC,EAAQnB,GAAf,iBAAAU,EAAA,sEACEC,IAAMS,IAAN,UAAaZ,EAAb,YAAyBW,EAAOE,IAAMrB,GADxC,cACda,EADc,gBAEGA,EAAQC,KAFX,cAEdC,EAFc,yBAGbA,GAHa,2CAAH,wDAgBjBO,cAViB,uCAAG,WAAOtB,GAAP,iBAAAU,EAAA,sEACEC,IAAMY,OAAN,UAAgBf,EAAhB,YAA4BR,EAAQqB,KADtC,cACdR,EADc,gBAEGA,EAAQC,KAFX,cAEdC,EAFc,yBAGbA,GAHa,2CAAH,uDCAJS,EApBa,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAS7B,OAAuB,OAAnBA,EACK,KAIP,qBAAKC,MAbc,CACnBC,OAAQ,kBACRC,aAAc,GACdC,WAAY,YACZC,MAAO,YACPC,aAAc,IAQd,SACE,oBAAIL,MAAO,CAAEM,WAAY,IAAzB,SAAgCP,OCKvBQ,EApBW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAS3B,OAAqB,OAAjBA,EACK,KAIP,qBAAKR,MAbY,CACjBC,OAAQ,gBACRC,aAAc,GACdC,WAAY,YACZC,MAAO,UACPC,aAAc,IAQd,SACE,oBAAIL,MAAO,CAAEM,WAAY,IAAzB,SAAgCE,OCHvBC,EAVM,SAAC,GAAsC,IAApCV,EAAmC,EAAnCA,eAAgBS,EAAmB,EAAnBA,aACtC,OAAuB,OAAnBT,EACK,cAAC,EAAD,CAAqBA,eAAgBA,IAClB,OAAjBS,EACF,cAAC,EAAD,CAAmBA,aAAcA,IAEjC,MC6HIE,EA/HH,WAAO,IAAD,EACcjC,mBAAS,IADvB,mBACTN,EADS,KACAwC,EADA,OAEkBlC,mBAAS,IAF3B,mBAETL,EAFS,KAEEwC,EAFF,OAGgBnC,mBAAS,IAHzB,mBAGToC,EAHS,KAGCrC,EAHD,OAIgBC,mBAAS,IAJzB,mBAITqC,EAJS,KAICC,EAJD,OAKctC,mBAAS,IALvB,mBAKTuC,EALS,KAKAC,EALA,OAM4BxC,mBAAS,MANrC,mBAMTsB,EANS,KAMOmB,EANP,OAOwBzC,mBAAS,MAPjC,mBAOT+B,EAPS,KAOKW,EAPL,KAShBC,qBAAU,kBAAMC,EAAgBtC,cAAcuC,MAAK,SAAClC,GAAD,OAAU6B,EAAW7B,QAAQ,IAEhF,IAAMmC,EAAuB,WAC3BC,YAAW,WACTN,EAAkB,QACjB,MAGCO,EAAqB,WACzBD,YAAW,WACTL,EAAgB,QACf,MAGCO,EAAa,WACjBf,EAAW,IACXC,EAAa,IACbG,EAAY,IACZvC,EAAY,KAGRmD,EAAe,SAACC,GACpB,IAAMvC,EAAWuC,EAAIvC,SAASD,KAAKyC,MACnCV,EAAgB9B,GAChBoC,KAGIK,EAAc,uCAAG,WAAOxD,GAAP,iBAAAU,EAAA,yDACfS,EAASuB,EAAQe,MAAK,SAACtC,GAAD,OAAYA,EAAOb,OAASN,EAAQM,QAC1DoD,EAFe,2BAEDvC,GAFC,IAEOZ,OAAQP,EAAQO,UAExCY,EAJiB,qBAKfwC,OAAOC,QAAP,UAAkB5D,EAAQM,KAA1B,mEALe,iCAMXyC,EACH7B,cAAcC,EAAQuC,GACtBV,MAAK,SAAAjC,GAAQ,OAAI4B,EAAWD,EAAQmB,KAAI,SAAAC,GAAI,OAAIA,EAAKzC,KAAOF,EAAOE,GAAKyC,EAAO/C,SAC/EgD,OAAM,SAAAT,GAAG,OAAID,EAAaC,MATZ,OAUjBF,IACAR,EAAkB,GAAD,OAAI5C,EAAQM,KAAZ,uCACjB2C,IAZiB,wBAcjBe,MAAM,6BAdW,yDAiBZjB,EAAgB/B,WAAWhB,GAASgD,MAAK,SAACjC,GAC/CqC,IACAT,EAAWD,EAAQuB,OAAOlD,IAC1B6B,EAAkB,GAAD,OAAI5C,EAAQM,KAAZ,qCACjB2C,OACCc,OAAM,SAAAT,GAAG,OAAID,EAAaC,OAtBV,4CAAH,sDA0BdrD,EAAmB,uCAAG,WAAOD,GAAP,SAAAU,EAAA,sEACpBqC,EAAgBzB,cAActB,GACnCgD,MAAK,SAAAkB,GACJtB,EAAkB,GAAD,OAAI5C,EAAQM,KAAZ,mDACjB2C,OAEDc,OAAM,SAAAR,GACLV,EAAgB,GAAD,OAAI7C,EAAQM,KAAZ,8CACf6C,OARwB,OAU1BJ,EAAgBtC,cAAcuC,MAAK,SAAClC,GAAD,OAAU6B,EAAW7B,MAV9B,2CAAH,sDA8CzB,OACE,gCACE,cAAC,EAAD,CAAS9B,KAAK,mBACd,cAAC,EAAD,CAAcyC,eAAgBA,EAAgBS,aAAcA,IAC5D,cAAC,EAAD,CAAOlD,KAAK,SAASE,WApBJ,SAACiF,GACpBjE,EAAYiE,EAAEC,OAAO/E,OACrB,IAAMgF,EAAgB3B,EAAQ4B,QAAO,SAACnD,GAAD,OAAYA,EAAOb,KAAKiE,cAAcC,QAAQjC,EAASgC,gBAAkB,KAC3GV,KAAI,SAAC1C,GACJ,OACE,cAAC,EAAD,CACEnB,QAASmB,EAETlB,oBAAqBA,EACrBC,YAAaA,GAFRiB,EAAOE,OAMpBoB,EAAY4B,IAOqClF,QAASoD,IACxD,cAAC,EAAD,CAASvD,KAAK,sBACd,cAAC,EAAD,CACEW,WAxCa,SAACwE,GAClB9B,EAAW8B,EAAEC,OAAO/E,QAwChBO,aArCe,SAACuE,GACpB7B,EAAa6B,EAAEC,OAAO/E,QAqClBE,aAlCe,SAAC4E,GACpBA,EAAEM,iBAKFjB,EAJqB,CACnBlD,KAAMT,EACNU,OAAQT,KA+BND,QAASA,EACTC,UAAWA,IAEb,cAAC,EAAD,CAASd,KAAK,YACd,8BAAMwD,QC/HZkC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.c24f1f7d.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Heading = ({ text }) => {\n  return <h2>{text}</h2>;\n};\n\nexport default Heading;\n","import React from \"react\";\n\nconst Input = ({ text, handleData, newData }) => {\n  return (\n    <div>\n      {text}\n      <input onChange={handleData} value={newData} />\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\n\nconst Button = ({ text, handleSubmit }) => {\n  return (\n    <div>\n      <button type=\"submit\" onClick={handleSubmit}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Input from \"./Input\";\nimport Button from \"./Button\";\n\nconst Form = ({\n  handleName,\n  handleNumber,\n  handleSubmit,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form>\n      <Input text=\"name: \" handleData={handleName} newData={newName} />\n      <Input text=\"number: \" handleData={handleNumber} newData={newNumber} />\n      <Button text=\"add\" handleSubmit={handleSubmit} />\n    </form>\n  );\n};\n\nexport default Form;\n","import React, { useState } from \"react\";\n\nconst ContactDetails = ({ contact, deleteFromPhonebook, setFilterBy }) => {\n  const [deleted, setDeleted] = useState(false);\n\n  const deleteContact = () => {\n    deleteFromPhonebook(contact);\n    setDeleted(true);\n    setFilterBy(\"\")\n  };\n\n  if (deleted) {\n    return null;\n  }\n\n  return (\n    <li>\n      {contact.name} {contact.number}\n      <button onClick={deleteContact}>delete</button>\n    </li>\n  );\n};\n\nexport default ContactDetails;\n","import axios from \"axios\";\n\nconst BASE_URL = `/api/persons`\n\nconst getContacts = async () => {\n  const request = await axios.get(BASE_URL)\n  const response = await request.data;\n  return response\n}\n\nconst addContact = async (contact) => {\n  const request = await axios.post(BASE_URL, contact)\n  const response = await request.data;\n  return response\n}\n\nconst updateContact = async (person, contact) => {\n  const request = await axios.put(`${BASE_URL}/${person.id}`, contact)\n  const response = await request.data;\n  return response;\n}\n\nconst deleteContact = async (contact) => {\n  const request = await axios.delete(`${BASE_URL}/${contact.id}`)\n  const response = await request.data\n  return response\n}\n\nexport default {\n  getContacts,\n  addContact,\n  updateContact,\n  deleteContact\n};\n","import React from \"react\";\n\nconst SuccessNotification = ({ successMessage }) => {\n  const successStyle = {\n    border: \"4px solid green\",\n    borderRadius: 10,\n    background: \"lightgrey\",\n    color: \"darkgreen\",\n    marginBottom: 20,\n  };\n\n  if (successMessage === null) {\n    return null;\n  }\n\n  return (\n    <div style={successStyle}>\n      <h3 style={{ marginLeft: 20 }}>{successMessage}</h3>\n    </div>\n  );\n};\n\nexport default SuccessNotification\n","import React from \"react\";\n\nconst ErrorNotification = ({ errorMessage }) => {\n  const errorStyle = {\n    border: \"4px solid red\",\n    borderRadius: 10,\n    background: \"lightgrey\",\n    color: \"darkred\",\n    marginBottom: 20,\n  };\n\n  if (errorMessage === null) {\n    return null;\n  }\n\n  return (\n    <div style={errorStyle}>\n      <h3 style={{ marginLeft: 20 }}>{errorMessage}</h3>\n    </div>\n  );\n};\n\nexport default ErrorNotification\n","import React from \"react\";\nimport SuccessNotification from \"./SuccessNotification\";\nimport ErrorNotification from \"./ErrorNotification\";\n\nconst Notification = ({ successMessage, errorMessage }) => {\n  if (successMessage !== null) {\n    return <SuccessNotification successMessage={successMessage} />;\n  } else if (errorMessage !== null) {\n    return <ErrorNotification errorMessage={errorMessage} />;\n  } else {\n    return null;\n  }\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport Heading from \"./components/Heading\";\nimport Form from \"./components/Form\";\nimport Input from \"./components/Input\";\nimport ContactDetails from \"./components/ContactDetails\";\nimport contactServices from \"./services/notes\";\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterBy, setFilterBy] = useState(\"\");\n  const [filtered, setFiltered] = useState(\"\");\n  const [persons, setPersons] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => contactServices.getContacts().then((data) => setPersons(data)), []);\n\n  const removeSuccessMessage = () => {\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const removeErrorMessage = () => {\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const clearForms = () => {\n    setNewName(\"\")\n    setNewNumber(\"\")\n    setFiltered(\"\")\n    setFilterBy(\"\")\n  }\n\n  const displayError = (err) => {\n    const response = err.response.data.error\n    setErrorMessage(response)\n    removeErrorMessage();\n  }\n\n  const addToPhonebook = async (contact) => {\n    const person = persons.find((person) => person.name === contact.name);\n    const details = {...person, number: contact.number}\n\n    if (person) {\n      if (window.confirm(`${contact.name} is already in the phonebook, replace old number with new one?`)) {\n        await contactServices\n          .updateContact(person, details)\n          .then(response => setPersons(persons.map(item => item.id !== person.id ? item : response)))//maps the current state with the newly updated data - see 2d.2 in FSO for refresher\n          .catch(err => displayError(err))\n        clearForms();\n        setSuccessMessage(`${contact.name} successfully updated in phonebook`)\n        removeSuccessMessage()\n      } else {\n        alert('Cancelled change request.')\n      }\n    } else {\n      return contactServices.addContact(contact).then((response) => {\n        clearForms();\n        setPersons(persons.concat(response));\n        setSuccessMessage(`${contact.name} successfully added to phonebook`)\n        removeSuccessMessage()\n      }).catch(err => displayError(err))\n    }\n  };\n\n  const deleteFromPhonebook = async (contact) => {\n    await contactServices.deleteContact(contact)\n    .then(res => {\n      setSuccessMessage(`${contact.name} has been successfully deleted from the server`)\n      removeSuccessMessage();\n    })\n    .catch(error => {\n      setErrorMessage(`${contact.name} has already been deleted from the server`)\n      removeErrorMessage();\n    });\n    contactServices.getContacts().then((data) => setPersons(data))\n  };\n\n  const handleName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    addToPhonebook(personObject);\n  };\n\n  const handleFilter = (e) => {\n    setFilterBy(e.target.value);\n    const filteredNames = persons.filter((person) => person.name.toLowerCase().indexOf(filterBy.toLowerCase()) >= 0)\n      .map((person) => {\n        return (\n          <ContactDetails\n            contact={person}\n            key={person.id}\n            deleteFromPhonebook={deleteFromPhonebook}\n            setFilterBy={setFilterBy}\n          />\n        );\n      });\n    setFiltered(filteredNames);\n  };\n\n  return (\n    <div>\n      <Heading text=\"Find a contact\" />\n      <Notification successMessage={successMessage} errorMessage={errorMessage} />\n      <Input text=\"name: \" handleData={handleFilter} newData={filterBy} />\n      <Heading text=\"Add a new contact\" />\n      <Form\n        handleName={handleName}\n        handleNumber={handleNumber}\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Heading text=\"numbers\" />\n      <div>{filtered}</div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}